<html>
  <head>
    <meta charset="UTF-8">
    <title>출력결과</title>
  </head>

  <body>
    <script>
      function solution(m, arr) {
        let result = 0;
        let resultArr = [];

        for(let start = 0; start < arr.length; start++) {
          let curSum = 0;
          let end = start - 1;
          let curResultArr = [];

          while(curSum <= m && end < arr.length) {
            end++;
            curSum += arr[end];
            curResultArr.push(arr[end]);

            if(curSum <= m) {
              console.log("arr[end]: ", arr[end]);
              console.log("curResultArr: ", curResultArr);
              resultArr.push(curResultArr.slice());
              result++;
            }
          }

          console.log("-------------------------");
        }

        console.log("resultArr: ", resultArr);

        return result;
      }
      
      let a=[1, 3, 1, 2, 3];
      // console.log(solution(5, a));

      function solution2(m, arr) {
        let result = 0;
        let start = 0;
        let curSum = 0;

        for(let end = 0; end < arr.length; end++) {
          curSum += arr[end];

          if(curSum <= m) {
            result += end - start + 1;
          }

          while(curSum > m) {
            curSum -= arr[start];
            start++;

            if(curSum <= m) {
              result += end - start + 1;
            }
          }
        }

        return result;
      }

      // console.log("solution2(): ", solution2(5, a));

      function solutionSample(m, arr) {
        let result = 0;

        let start = 0;
        let curSum = 0;

        for(let end = 0; end < arr.length; end++) {
          curSum += arr[end];

          while(curSum > m) {
            curSum -= arr[start];
            start++;
          }

          result += (end - start) + 1;
        }

        return result;
      }

      console.log("solutionSample(): ", solutionSample(5, a));
    </script>
  </body>
</html>